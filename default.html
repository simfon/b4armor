<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolatore Punti Armatura - Inventario</title>
    <link rel="stylesheet" href="default.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚öîÔ∏è Punti Armatura</h1>
            <p class="subtitle">Clicca sugli slot per equipaggiare l'armatura</p>
        </header>

        <div class="main-layout">
            <!-- Left Panel -->
            <div class="side-panel">
                <div class="panel-title">Azioni Rapide</div>
                
                <button class="quick-btn" onclick="applyToZone('torso')">üõ°Ô∏è Tutto Torso</button>
                <button class="quick-btn" onclick="applyToZone('arm_l')">üí™ Braccio SX</button>
                <button class="quick-btn" onclick="applyToZone('arm_r')">üí™ Braccio DX</button>
                <button class="quick-btn" onclick="applyToZone('leg_l')">ü¶µ Gamba SX</button>
                <button class="quick-btn" onclick="applyToZone('leg_r')">ü¶µ Gamba DX</button>
                
                <hr class="section-divider">
                
                <button class="quick-btn" onclick="applyToZone('all')">‚öîÔ∏è Tutto il Corpo</button>
                <button class="quick-btn reset" onclick="resetAll()">üîÑ Reset</button>

                <div class="legend">
                    <div class="panel-title">Legenda</div>
                    <div class="legend-item">
                        <div class="legend-color cat-1"></div>
                        <span>Cat.1 Gambeson/Cuoio</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color cat-2"></div>
                        <span>Cat.2 Piastre/Maglia</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color cat-3"></div>
                        <span>Cat.3 Sovrapposizione Cat. 1 e 2</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color cat-4"></div>
                        <span>Cat.4 Piastre+Maglia</span>
                    </div>
                </div>
            </div>

            <!-- Center - Body -->
            <div class="body-container">
                <!-- View toggle for mobile -->
                <div class="view-toggle">
                    <button class="view-btn active" onclick="switchView('front')">üë§ Fronte</button>
                    <button class="view-btn" onclick="switchView('back')">üîÑ Retro</button>
                </div>
                
                <div class="body-wrapper view-front">
                    <!-- Silhouette -->
                    <svg class="body-silhouette" viewBox="0 0 100 200" preserveAspectRatio="xMidYMid meet">
                        <circle cx="50" cy="15" r="12" fill="#c9b896"/>
                        <rect x="46" y="27" width="8" height="8" fill="#c9b896"/>
                        <path d="M30 35 L70 35 L75 90 L25 90 Z" fill="#c9b896"/>
                        <path d="M30 35 L20 38 L12 75 L18 77 L28 50 L30 50" fill="#c9b896"/>
                        <path d="M70 35 L80 38 L88 75 L82 77 L72 50 L70 50" fill="#c9b896"/>
                        <path d="M25 90 L30 90 L35 150 L42 150 L48 90 L52 90 L58 150 L65 150 L70 90 L75 90 L65 155 L60 155 L50 95 L40 155 L35 155 Z" fill="#c9b896"/>
                        <ellipse cx="38" cy="158" rx="8" ry="4" fill="#c9b896"/>
                        <ellipse cx="62" cy="158" rx="8" ry="4" fill="#c9b896"/>
                    </svg>

                    <!-- Helmet -->
                    <div class="armor-slot slot-helmet" data-slot="helmet" onclick="openModal('helmet')">
                        <span class="slot-label">Elmo</span>
                        <span class="slot-value" id="val-helmet">‚Äî</span>
                    </div>

                    <!-- Column Labels for Torso -->
                    <div class="col-labels">
                        <span>Fronte</span>
                        <span>Retro</span>
                    </div>

                    <!-- Torso Superior -->
                    <div class="slot-group group-torso-sup">
                        <span class="slot-group-label">Torso Sup.</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="torso_sup_front" onclick="openModal('torso_sup_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-torso_sup_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="torso_sup_back" onclick="openModal('torso_sup_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-torso_sup_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Torso Inferior -->
                    <div class="slot-group group-torso-inf">
                        <span class="slot-group-label">Torso Inf.</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="torso_inf_front" onclick="openModal('torso_inf_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-torso_inf_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="torso_inf_back" onclick="openModal('torso_inf_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-torso_inf_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Left Arm Superior -->
                    <div class="slot-group group-arm-l-sup">
                        <span class="slot-group-label">Br. Sup SX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="arm_l_sup_front" onclick="openModal('arm_l_sup_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-arm_l_sup_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="arm_l_sup_back" onclick="openModal('arm_l_sup_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-arm_l_sup_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Left Arm Inferior -->
                    <div class="slot-group group-arm-l-inf">
                        <span class="slot-group-label">Br. Inf SX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="arm_l_inf_front" onclick="openModal('arm_l_inf_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-arm_l_inf_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="arm_l_inf_back" onclick="openModal('arm_l_inf_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-arm_l_inf_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Arm Superior -->
                    <div class="slot-group group-arm-r-sup">
                        <span class="slot-group-label">Br. Sup DX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="arm_r_sup_front" onclick="openModal('arm_r_sup_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-arm_r_sup_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="arm_r_sup_back" onclick="openModal('arm_r_sup_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-arm_r_sup_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Arm Inferior -->
                    <div class="slot-group group-arm-r-inf">
                        <span class="slot-group-label">Br. Inf DX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="arm_r_inf_front" onclick="openModal('arm_r_inf_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-arm_r_inf_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="arm_r_inf_back" onclick="openModal('arm_r_inf_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-arm_r_inf_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Left Leg Superior -->
                    <div class="slot-group group-leg-l-sup">
                        <span class="slot-group-label">Coscia SX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="leg_l_sup_front" onclick="openModal('leg_l_sup_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-leg_l_sup_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="leg_l_sup_back" onclick="openModal('leg_l_sup_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-leg_l_sup_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Left Leg Inferior -->
                    <div class="slot-group group-leg-l-inf">
                        <span class="slot-group-label">Stinco SX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="leg_l_inf_front" onclick="openModal('leg_l_inf_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-leg_l_inf_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="leg_l_inf_back" onclick="openModal('leg_l_inf_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-leg_l_inf_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Leg Superior -->
                    <div class="slot-group group-leg-r-sup">
                        <span class="slot-group-label">Coscia DX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="leg_r_sup_front" onclick="openModal('leg_r_sup_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-leg_r_sup_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="leg_r_sup_back" onclick="openModal('leg_r_sup_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-leg_r_sup_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Leg Inferior -->
                    <div class="slot-group group-leg-r-inf">
                        <span class="slot-group-label">Stinco DX</span>
                        <div class="slot-row">
                            <div class="armor-slot" data-slot="leg_r_inf_front" onclick="openModal('leg_r_inf_front')">
                                <span class="slot-label">Fr</span>
                                <span class="slot-value" id="val-leg_r_inf_front">‚Äî</span>
                            </div>
                            <div class="armor-slot" data-slot="leg_r_inf_back" onclick="openModal('leg_r_inf_back')">
                                <span class="slot-label">Re</span>
                                <span class="slot-value" id="val-leg_r_inf_back">‚Äî</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Right Panel - Results -->
            <div class="side-panel">
                <div class="panel-title">Riepilogo</div>
                
                <div class="total-display">
                    <div class="total-label">Punti Armatura</div>
                    <div class="total-value" id="total-pa">0</div>
                    <div class="total-raw">Grezzo: <span id="total-raw">0.0</span></div>
                </div>

                <div class="breakdown">
                    <div class="breakdown-item torso">
                        <span>üõ°Ô∏è Torso</span>
                        <span id="sub-torso">0</span>
                    </div>
                    <div class="breakdown-item arms">
                        <span>üí™ Braccia</span>
                        <span id="sub-arms">0</span>
                    </div>
                    <div class="breakdown-item legs">
                        <span>ü¶µ Gambe</span>
                        <span id="sub-legs">0</span>
                    </div>
                    <div class="breakdown-item helmet">
                        <span>‚õëÔ∏è Elmo</span>
                        <span id="sub-helmet">0</span>
                    </div>
                </div>

                <div class="rounding-info">
                    <strong>Arrotondamento:</strong><br>
                    Decimale ‚â• 0.7 ‚Üí arrotonda per eccesso<br>
                    (es: 4.7 ‚Üí 5, ma 4.6 ‚Üí 4)
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal-overlay" onclick="closeModal(event)">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-title" id="modal-title">Seleziona Armatura</div>
            <div id="modal-options"></div>
            <button class="modal-close" onclick="closeModal()">Chiudi</button>
        </div>
    </div>

    <script src="default.js"></script>
</body>
</html>
